# Exodus
**Exodus** is meant to:
  * download a bunch of APK files from *Google Play*
  * find trackers signature in unzipped APK
  * retreive application information like version, handle, ...
  * manage Android VirtualBox VM
  * install and run Android applications
  * analyze the network traffic generated by the application
  * retreive DNS queries and responses
  * retreive HTTP posted data
  * generate JSON report

# Deploy
## System dependencies
```
sudo apt install git virtualenv postgresql-9.6 rabbitmq-server
```

## Clone the project
```
git clone -b v1 ssh://<username>@62.210.131.96:19100/data/depots/exodus/exodus.git Exodus
```

## Create database
```
sudo su - postgres
psql
CREATE USER exodus WITH PASSWORD 'a big password';
CREATE DATABASE exodus WITH OWNER exodus;
```
Set the password in the file `Exodus/exodus/exodus/settings.py` line 97.

## Set Python virtual environement and dependencies   
```
cd Exodus
virtualenv ./venv
source venv/bin/activate
pip install -r requirements.txt
```

## Create the DB schema
```
cd exodus/exodus
python manage.py migrate --fake-initial
python manage.py migrate
```

## Create admin user
```
python manage.py createsuperuser
```

# Notes
## Run `tcpdump` as simple user
```bash
sudo visudo
```
and append the following line before the `include ...` one at the bottom of the file
```
<usename>  ALL=(ALL) NOPASSWD: /usr/sbin/tcpdump
```

## Read `.pcap` files  as simple user
```bash
chmod g+s net
```